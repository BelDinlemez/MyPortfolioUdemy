
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Layout/Index.cshtml";
}

<div class="content">
	<div class="container-fluid">
		<h4 class="page-title">İstatistikler</h4>
		<div class="row">
			<div class="col-md-3">
				<div class="card card-stats card-warning">
					<div class="card-body ">
						<div class="row">
							<div class="col-5">
								<div class="icon-big text-center">
									<i class="la la-users"></i>
								</div>
							</div>
							<div class="col-7 d-flex align-items-center">
								<div class="numbers">
									<p class="card-category">Yetenek Sayısı</p>
									<h4 class="card-title">@ViewBag.v1</h4>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-3">
				<div class="card card-stats card-success">
					<div class="card-body ">
						<div class="row">
							<div class="col-5">
								<div class="icon-big text-center">
									<i class="la la-bar-chart"></i>
								</div>
							</div>
							<div class="col-7 d-flex align-items-center">
								<div class="numbers">
									<p class="card-category">Toplam Mesaj</p>
									<h4 class="card-title">@ViewBag.v2</h4>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-3">
				<div class="card card-stats card-danger">
					<div class="card-body">
						<div class="row">
							<div class="col-5">
								<div class="icon-big text-center">
									<i class="la la-newspaper-o"></i>
								</div>
							</div>
							<div class="col-7 d-flex align-items-center">
								<div class="numbers">
									<p class="card-category">Okunmayanlar</p>
									<h4 class="card-title">@ViewBag.v3</h4>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-3">
				<div class="card card-stats card-primary">
					<div class="card-body ">
						<div class="row">
							<div class="col-5">
								<div class="icon-big text-center">
									<i class="la la-check-circle"></i>
								</div>
							</div>
							<div class="col-7 d-flex align-items-center">
								<div class="numbers">
									<p class="card-category">Okunanlar</p>
									<h4 class="card-title">@ViewBag.v4</h4>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>



	<div class="row mt-4 justify-content-center align-items-center">
		<!-- Portfolyo Kartı (Sol) -->
		<div class="col-md-3">
			<div class="card card-stats card-info">
				<div class="card-body">
					<div class="row">
						<div class="col-5">
							<div class="icon-big text-center">
								<i class="la la-folder-open"></i>
							</div>
						</div>
						<div class="col-7 d-flex align-items-center">
							<div class="numbers">
								<p class="card-category">Portfolyo Sayısı</p>
								<h4 class="card-title">@ViewBag.PortfolioCount</h4>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Donut Grafik (Ortada) -->
		<div class="col-md-4 d-flex justify-content-center">
			<div class="card shadow-sm border-0" style="width: 100%; min-height: 280px;">
				<div class="card-body d-flex flex-column align-items-center justify-content-center">
					<h5 class="card-title mb-3" style="font-weight: 600;">Yapılacaklar Durumu</h5>
					<div style="width: 180px; height: 180px;">
						<canvas id="todoDonutChart"></canvas>
					</div>
				</div>
			</div>
		</div>

		<!-- Deneyim Kartı (Sağ) -->
		<div class="col-md-3">
			<div class="card card-stats card-secondary">
				<div class="card-body">
					<div class="row">
						<div class="col-5">
							<div class="icon-big text-center">
								<i class="la la-briefcase"></i>
							</div>
						</div>
						<div class="col-7 d-flex align-items-center">
							<div class="numbers">
								<p class="card-category">Deneyim Sayısı</p>
								<h4 class="card-title">@ViewBag.ExperienceCount</h4>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

</div> <!-- .container-fluid -->

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
		const todoCtx = document.getElementById('todoDonutChart').getContext('2d');
	new Chart(todoCtx, {
		type: 'doughnut',
		data: {
			labels: ['Tamamlandı', 'Bekliyor'],
			datasets: [{
				data: @Html.Raw(Json.Serialize(ViewBag.ToDoDonut)),
				backgroundColor: ['#A1E3D8', '#FDEBD0'], // soft yeşil & pastel turuncu
				borderColor: ['#6FCF97', '#F4A261'],    // biraz daha koyu dış çizgi
				borderWidth: 1
			}]
		},
		options: {
			cutout: '50%', // Donut halkasını inceltir, daha şık görünür
			plugins: {
				legend: {
					display: true,
					position: 'bottom',
					labels: {
						color: '#555', // yazı rengi
						font: {
							size: 10
						}
					}
				}
			}
		}
	});

</script>
